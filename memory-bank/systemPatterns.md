# システムパターン

## ドキュメント更新ルール

### 機能実装・不具合修正時の更新手順

1. README.md と README-en.md
   - 新機能の追加時：必要に応じて機能の説明を追加
   - 既存機能の修正時：影響がある場合は説明を更新
   - 両方のファイルを同期して更新すること（日本語・英語）

2. CHANGELOG.md
   - 新機能追加：機能の説明と関連するPull Requestへのリンクを追加
   - バグ修正：修正内容と関連するPull Requestへのリンクを追加
   - セマンティックバージョニングに従ってバージョン番号を更新

### 更新時の注意点
- ドキュメントは常にコードの現状を正確に反映すること
- 日本語版と英語版で説明の齟齬が生じないよう注意
- CHANGELOGは時系列順で、最新の変更を先頭に追加

## アーキテクチャ

- このプロジェクトは、Visual Studio Codeの拡張機能として実装されており、GitHub Copilot Chatを利用してプロンプトの自動実行を行います。
- package.json には VS Code から呼び出せるコマンドを登録しています

## 主要な技術的決定

- 使用されている主なライブラリには、`vscode`、`fs`、`path`、`minimatch`などがあります。
- プロンプトの自動実行に関連するロジックは、`chatHandler.ts`に実装されています。

## デザインパターン

- コマンドパターンを使用して、ユーザーからのリクエストを処理するためのハンドラを設定しています。
- ストラテジーパターンを使用して、異なるプロンプトを処理するためのロジックを分離しています。

## コンポーネントの関係

- `extension.ts`は、拡張機能のエントリポイントであり、コマンドの登録やチャット参加者の作成を行います。
- `chatHandler.ts`は、ユーザーからのチャットリクエストを処理し、プロンプトを適用するロジックを含んでいます。
- `chatutil.ts`は、チャットレスポンスをファイルに書き込むためのユーティリティを提供します。
- `util.ts`は、ファイルやディレクトリの操作に関するユーティリティ関数を提供します。
